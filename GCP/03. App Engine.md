# App Engine

Google App Engine (GAE) là một nền tảng đám mây (Platform as a Service - PaaS) do Google cung cấp, cho phép các nhà phát triển xây dựng và triển khai các ứng dụng web hoặc backend mà không cần quản lý cơ sở hạ tầng máy chủ vật lý hoặc ảo hóa.​


App Engine cung cấp môi trường lập trình, kho dữ liệu, thư viện, và dịch vụ tích hợp sẵn để bạn có thể viết, chạy và mở rộng ứng dụng ngay trên hạ tầng của Google.​

Việc triển khai ứng dụng đơn giản, chỉ cần tải mã nguồn lên và Google sẽ tự động lo về vấn đề cân bằng tải, autoscaling, cập nhật phiên bản cũng như giám sát tài nguyên.​

App Engine phù hợp cho nhiều loại ngôn ngữ lập trình hiện đại như Java, Python, Node.js, Go, PHP, Ruby, C#, .NET, và còn hỗ trợ thêm custom runtime qua Docker.​


App engine bound với region


## Tính năng nổi bật

Không cần quản lý máy chủ: Toàn bộ phần backend, bảo trì hệ điều hành, cập nhật phần mềm… đều do Google xử lý.​

Tự động mở rộng: App Engine tự động tăng/giảm số lượng instance đang chạy dựa trên lưu lượng truy cập thực tế, giúp tối ưu chi phí và hiệu năng.​

Thanh toán pay-as-you-go: Bạn chỉ phải trả phí theo tài nguyên thực sử dụng khi ứng dụng có người dùng truy cập.​

Tích hợp API mạnh mẽ: Dễ dàng dùng thêm các dịch vụ của Google như Cloud Storage, Memcache, Cloud Endpoints, BigQuery… hoặc kết nối với API bên ngoài chỉ với vài dòng lệnh.​

Quản lý phiên bản: Hệ thống cho phép deploy nhiều version ứng dụng cùng lúc, tiện lợi cho việc A/B testing, rollback, thử nghiệm dịch vụ mới.​

Giám sát và logging: Hỗ trợ Cloud Monitoring, Logging để kiểm soát, phát hiện và khắc phục lỗi nhanh chóng.​

## Các thành phần chính

Service: Mỗi app có thể chứa nhiều service, mỗi service có thể chạy runtime/ngôn ngữ riêng.​

Version: Mỗi service có thể triển khai nhiều version khác nhau, thuận tiện quy trình dev/test/production.​

Instance: Một version của service có thể chạy nhiều instance song song để đáp ứng tải

---

Google App Engine có hai môi trường chính cho việc chạy ứng dụng là Standard Environment (Môi trường tiêu chuẩn) và Flexible Environment (Môi trường linh hoạt), mỗi môi trường có những đặc điểm và ưu nhược điểm riêng thích hợp cho các loại ứng dụng khác nhau.​

App Engine Standard Environment
Chạy các ứng dụng trong một sandbox có giới hạn nhằm bảo đảm tính an toàn và đồng nhất.

Khởi động instance cực nhanh, chỉ trong vài giây.

Thích hợp cho các ứng dụng web có lưu lượng biến động cao, cần mở rộng nhanh.


Giới hạn về thư viện, runtime (hỗ trợ Java, Python, PHP, NodeJS, Ruby, Go, cần check thêm), và không cho phép chạy các tiến trình nền dài hoặc truy cập hệ thống file tùy ý.

Thời gian tối đa cho một request phụ thuộc vào runtime, thường ngắn hơn Flexible.

Tự động mở rộng về số lượng instance dựa trên lưu lượng truy cập.

Có hỗ trợ các API tích hợp sẵn của Google, rất tiện ích cho phát triển nhanh.

Không hỗ trợ truy cập SSH vào instance.​

App Engine Flexible Environment

Chạy ứng dụng trong các containers Docker trên VM của Compute Engine.

Khởi động instance chậm hơn so với Standard, mất vài phút vì phải khởi tạo VM.

Linh hoạt hơn, cho phép sử dụng custom runtime (bất kỳ runtime nào), các thư viện native, và các tiến trình nền dài.

Có thể truy cập root và SSH vào các VM nếu cần thiết để debug hoặc setup đặc thù.

Hỗ trợ cấu hình CPU, bộ nhớ, và các tài nguyên khác theo nhu cầu ứng dụng.

Tự động mở rộng nhưng phù hợp cho các ứng dụng có lưu lượng ổn định hoặc tăng giảm dần.

Thời gian xử lý request tối đa lên tới 60 phút, phù hợp cho các tác vụ phức tạp, lâu dài.

Thường được dùng cho các ứng dụng phức tạp hơn, có yêu cầu cao về môi trường runtime hoặc thư viện đặc biệt

| Đặc điểm                  | Standard Environment        | Flexible Environment        |
|--------------------------|-----------------------------|-----------------------------|
| Startup instance         | Vài giây                    | Vài phút                    |
| Thời gian tối đa request  | Ngắn (runtime-dependent)    | Lên đến 60 phút             |
| Hỗ trợ tiến trình nền     | Có, nhưng có giới hạn       | Có, không giới hạn          |
| SSH/root access           | Không                       | Có thể bật                  |
| Môi trường runtime        | Bị giới hạn, Google quản lý | Tùy chỉnh, Docker container |
| Loại ứng dụng phù hợp     | Ứng dụng web nhỏ, vừa       | Ứng dụng yêu cầu tùy chỉnh  |
| Tự động mở rộng           | Tự động, nhanh              | Tự động, phù hợp lưu lượng ổn định |



App Engine Standard phù hợp khi cần nhanh, đơn giản, ít tùy biến, còn Flexible phù hợp khi cần nhiều quyền tùy chỉnh và sử dụng tài nguyên phức tạp hơn trong GCP.​

---

Trong dự án App Engine, bạn xác định môi trường trong file cấu hình deployment, thường là file app.yaml.

Ví dụ với Standard Environment, file app.yaml sẽ có cấu hình mặc định hoặc không cần khai báo loại môi trường.

Với Flexible Environment, bạn cần khai báo env: flex trong app.yaml. Ví dụ:

```
runtime: python39
env: flex
```
